
SQL*Plus: Release 11.2.0.1.0 Production on Fri Feb 18 10:41:31 2011

Copyright (c) 1982, 2009, Oracle.  All rights reserved.


Connected to:
Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - 64bit Production
With the Partitioning, OLAP, Data Mining and Real Application Testing options

10:41:31 SQL> ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD hh24:mi:ss';

Session altered.

Elapsed: 00:00:00.00
10:41:31 SQL> 10:41:31 SQL> --
10:41:31 SQL> -- build_scorem.sql
10:41:31 SQL> --
10:41:31 SQL> 
10:41:31 SQL> -- Demo:
10:41:31 SQL> -- @build_scorem.sql aud_usd
10:41:31 SQL> 
10:41:31 SQL> -- I use this script to build another script full of calls to a set of
10:41:31 SQL> -- scoring scripts.
10:41:31 SQL> 
10:41:31 SQL> SELECT cmd,ydate,'&1' pair FROM
10:41:31   2  (
10:41:31   3  SELECT '@score1_5min.sql 'cmd,ydate FROM modsrc
10:41:31   4  WHERE ydate NOT IN
10:41:31   5  	(SELECT ydate FROM svm62scores WHERE targ='gatt'AND pair='&1')
10:41:31   6  AND ydate > sysdate - 95
10:41:31   7  AND pair = '&1'
10:41:31   8  UNION
10:41:31   9  SELECT '@score1_5min_gattn.sql 'cmd,ydate FROM modsrc
10:41:31  10  WHERE ydate NOT IN
10:41:31  11  	(SELECT ydate FROM svm62scores WHERE targ='gattn'AND pair='&1')
10:41:31  12  AND ydate > sysdate - 95
10:41:31  13  AND pair = '&1'
10:41:31  14  )
10:41:31  15  WHERE ydate > sysdate - 1/24
10:41:31  16  -- ORDER BY DBMS_RANDOM.VALUE
10:41:31  17  ORDER BY ydate DESC,cmd
10:41:31  18  /
old   1: SELECT cmd,ydate,'&1' pair FROM
new   1: SELECT cmd,ydate,'aud_usd' pair FROM
old   5:   (SELECT ydate FROM svm62scores WHERE targ='gatt'AND pair='&1')
new   5:   (SELECT ydate FROM svm62scores WHERE targ='gatt'AND pair='aud_usd')
old   7: AND pair = '&1'
new   7: AND pair = 'aud_usd'
old  11:   (SELECT ydate FROM svm62scores WHERE targ='gattn'AND pair='&1')
new  11:   (SELECT ydate FROM svm62scores WHERE targ='gattn'AND pair='aud_usd')
old  13: AND pair = '&1'
new  13: AND pair = 'aud_usd'

CMD			YDATE		    PAIR
----------------------- ------------------- -------
@score1_5min.sql	2011-02-18 10:30:00 aud_usd
@score1_5min_gattn.sql	2011-02-18 10:30:00 aud_usd
@score1_5min.sql	2011-02-18 10:25:00 aud_usd
@score1_5min_gattn.sql	2011-02-18 10:25:00 aud_usd
@score1_5min.sql	2011-02-18 10:20:00 aud_usd
@score1_5min_gattn.sql	2011-02-18 10:20:00 aud_usd
@score1_5min.sql	2011-02-18 10:15:00 aud_usd
@score1_5min_gattn.sql	2011-02-18 10:15:00 aud_usd
@score1_5min.sql	2011-02-18 10:10:00 aud_usd
@score1_5min_gattn.sql	2011-02-18 10:10:00 aud_usd
@score1_5min.sql	2011-02-18 10:05:00 aud_usd
@score1_5min_gattn.sql	2011-02-18 10:05:00 aud_usd
@score1_5min.sql	2011-02-18 10:00:00 aud_usd
@score1_5min_gattn.sql	2011-02-18 10:00:00 aud_usd

14 rows selected.

Elapsed: 00:00:00.17
10:41:31 SQL> 
10:41:31 SQL> 
10:41:31 SQL> Disconnected from Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - 64bit Production
With the Partitioning, OLAP, Data Mining and Real Application Testing options
