/pt/s/rluck/svm62/results_2011_0124.txt

The results are good.

B_OR PAIR    AVG_PCT_GAIN SUM_PCT_GAIN     CCOUNT  CORR_LONG CORR_SHORT
---- ------- ------------ ------------ ---------- ---------- ----------
buy  aud_jpy       -.0630     -81.2064       1288 -.10518511 .105185112
buy  aud_usd        .0533     124.9197       2344 .079781726 -.07978173
buy  eur_aud        .1197      27.2979        228 -.17868975 .178689745
buy  eur_chf        .0723      80.0569       1108 -.17198825 .171988245
buy  eur_gbp        .0759      76.8423       1012 -.03158789 .031587889
buy  eur_jpy        .3003     247.4635        824 .132012168 -.13201217
buy  eur_usd        .1350     300.7835       2228 .143051337 -.14305134
buy  gbp_usd        .0743      92.7180       1248 -.02504331 .025043315
buy  usd_cad        .0691      67.6842        980 .114231649 -.11423165
buy  usd_chf        .0164      19.9622       1220 -.08283236 .082832358
buy  usd_jpy       -.1235    -126.4633       1024 .003008886 -.00300889
sell aud_jpy       -.1547    -177.0292       1144 .014338995   -.014339
sell aud_usd       -.2101    -730.4235       3476 .056103075 -.05610307
sell eur_aud        .2213      58.4228        264 -.11042358 .110423583
sell eur_chf        .1614      99.4105        616 .082305116 -.08230512
sell eur_gbp        .1297      61.2286        472 .030311625 -.03031163
sell eur_jpy        .0387      34.4909        892 -.15778968 .157789679
sell eur_usd       -.1692    -379.6939       2244 .231810791 -.23181079
sell gbp_usd        .0915     147.1599       1608 .018458498  -.0184585
sell usd_cad       -.0362     -58.1511       1608 .041367797  -.0413678
sell usd_chf       -.0251     -55.1579       2200 -.06429135 .064291346
sell usd_jpy       -.0827    -254.1299       3072 -.09165058 .091650581


I like these pairs:

B_OR PAIR    AVG_PCT_GAIN SUM_PCT_GAIN     CCOUNT  CORR_LONG CORR_SHORT
---- ------- ------------ ------------ ---------- ---------- ----------
buy  aud_usd        .0533     124.9197       2344 .079781726 -.07978173
sell aud_usd       -.2101    -730.4235       3476 .056103075 -.05610307

buy  eur_usd        .1350     300.7835       2228 .143051337 -.14305134
sell eur_usd       -.1692    -379.6939       2244 .231810791 -.23181079

buy  usd_cad        .0691      67.6842        980 .114231649 -.11423165
sell usd_cad       -.0362     -58.1511       1608 .041367797  -.0413678

buy  usd_chf        .0164      19.9622       1220 -.08283236 .082832358
sell usd_chf       -.0251     -55.1579       2200 -.06429135 .064291346

buy  eur_jpy        .3003     247.4635        824 .132012168 -.13201217
sell eur_jpy        .0387      34.4909        892 -.15778968 .157789679


I dislike these:
B_OR PAIR    AVG_PCT_GAIN SUM_PCT_GAIN     CCOUNT  CORR_LONG CORR_SHORT
---- ------- ------------ ------------ ---------- ---------- ----------
buy  gbp_usd        .0743      92.7180       1248 -.02504331 .025043315
sell gbp_usd        .0915     147.1599       1608 .018458498  -.0184585

buy  eur_aud        .1197      27.2979        228 -.17868975 .178689745
sell eur_aud        .2213      58.4228        264 -.11042358 .110423583

buy  eur_chf        .0723      80.0569       1108 -.17198825 .171988245
sell eur_chf        .1614      99.4105        616 .082305116 -.08230512

buy  eur_gbp        .0759      76.8423       1012 -.03158789 .031587889
sell eur_gbp        .1297      61.2286        472 .030311625 -.03031163










oracle@z2:/pt/s/rluck/svm62$ sqt @qry4web.sql

SQL*Plus: Release 11.2.0.1.0 Production on Mon Jan 24 01:31:29 2011

Copyright (c) 1982, 2009, Oracle.  All rights reserved.


Connected to:
Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - 64bit Production
With the Partitioning, OLAP, Data Mining and Real Application Testing options

01:31:30 SQL> ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD hh24:mi:ss';

Session altered.

Elapsed: 00:00:00.00
01:31:30 SQL> --
01:31:30 SQL> -- qry4web.sql
01:31:30 SQL> --
01:31:30 SQL> 
01:31:30 SQL> -- I use this script to gather data for exposure to the web.
01:31:30 SQL> 
01:31:30 SQL> -- Get prices and gains first.
01:31:30 SQL> 
01:31:30 SQL> -- Start by getting a general idea of the data distribution:
01:31:30 SQL> 
01:31:30 SQL> SELECT
01:31:30   2  TO_CHAR(ydate,'YYYY_MM')mnth,TO_CHAR(ydate,'W')wweek
01:31:30   3  ,COUNT(pair)
01:31:30   4  FROM di5min
01:31:30   5  GROUP BY TO_CHAR(ydate,'YYYY_MM'),TO_CHAR(ydate,'W')
01:31:30   6  ORDER BY TO_CHAR(ydate,'YYYY_MM'),TO_CHAR(ydate,'W')
01:31:30   7  /

MNTH    W COUNT(PAIR)
------- - -----------
2010_10 3       13079
2010_10 4       15972
2010_10 5        3300
2010_11 1       15972
2010_11 2       15972
2010_11 3       15862
2010_11 4       15972
2010_11 5        6237
2010_12 1       15675
2010_12 2       15651
2010_12 3       15346
2010_12 4       15394
2010_12 5        9164
2011_01 1       15664
2011_01 2       15669
2011_01 3       15675
2011_01 4         398

17 rows selected.

Elapsed: 00:00:00.19
01:31:30 SQL> 
01:31:30 SQL> COLUMN price FORMAT 999.9999
01:31:30 SQL> 
01:31:30 SQL> CREATE OR REPLACE VIEW w10 AS
01:31:30   2  SELECT
01:31:30   3  prdate
01:31:30   4  ,pair
01:31:30   5  ,ydate
01:31:30   6  ,ROUND(clse,4)price_open
01:31:30   7  ,ROUND(LEAD(clse,12*6,NULL)OVER(PARTITION BY pair ORDER BY ydate),4)price_close
01:31:30   8  ,ROUND(LEAD(clse,12*6,NULL)OVER(PARTITION BY pair ORDER BY ydate)-clse,4)six_hr_gain
01:31:30   9  ,LEAD(ydate,12*6,NULL)OVER(PARTITION BY pair ORDER BY ydate) ydate6
01:31:30  10  FROM di5min
01:31:30  11  ORDER BY pair,ydate
01:31:30  12  /

View created.

Elapsed: 00:00:00.04
01:31:30 SQL> 
01:31:30 SQL> -- On weekdays I should see recent data:
01:31:30 SQL> 
01:31:30 SQL> SELECT pair,COUNT(pair)FROM w10 WHERE ydate > sysdate - 0.5/24 GROUP BY pair;

PAIR    COUNT(PAIR)
------- -----------
aud_jpy           2
aud_usd           2
eur_aud           2
eur_chf           2
eur_gbp           2
eur_jpy           2
eur_usd           2
gbp_usd           2
usd_cad           2
usd_chf           3
usd_jpy           3

11 rows selected.

Elapsed: 00:00:00.49
01:31:30 SQL> 
01:31:30 SQL> SELECT pair,COUNT(pair)FROM w10 WHERE ydate > sysdate - 7/24 AND ydate6 IS NOT NULL GROUP BY pair;

no rows selected

Elapsed: 00:00:00.49
01:31:31 SQL> 
01:31:31 SQL> -- Now get scores:
01:31:31 SQL> 
01:31:31 SQL> CREATE OR REPLACE VIEW w12 AS
01:31:31   2  SELECT
01:31:31   3  l.prdate
01:31:31   4  ,l.score score_long
01:31:31   5  ,s.score score_short
01:31:31   6  ,l.pair
01:31:31   7  ,l.ydate
01:31:31   8  FROM svm62scores l
01:31:31   9  ,svm62scores s
01:31:31  10  WHERE l.prdate = s.prdate
01:31:31  11  AND l.targ = 'gatt'
01:31:31  12  AND s.targ = 'gattn'
01:31:31  13  ORDER BY l.prdate
01:31:31  14  /

View created.

Elapsed: 00:00:00.04
01:31:31 SQL> 
01:31:31 SQL> -- On weekdays I should see recent scores:
01:31:31 SQL> 
01:31:31 SQL> SELECT pair,COUNT(pair)FROM w12 WHERE ydate > sysdate - 0.5/24 GROUP BY pair;

PAIR    COUNT(PAIR)
------- -----------
aud_usd           2

Elapsed: 00:00:00.14
01:31:31 SQL> 
01:31:31 SQL> -- Join em:
01:31:31 SQL> CREATE OR REPLACE VIEW w14 AS
01:31:31   2  SELECT
01:31:31   3  p.pair
01:31:31   4  ,p.ydate
01:31:31   5  ,ydate6
01:31:31   6  ,price_open
01:31:31   7  ,price_close
01:31:31   8  ,six_hr_gain
01:31:31   9  ,score_long
01:31:31  10  ,score_short
01:31:31  11  -- Next page:
01:31:31  12  ,24*(ydate6 - p.ydate)hold_duration
01:31:31  13  ,100*six_hr_gain / price_open pct_gain
01:31:31  14  ,CASE WHEN(score_long-score_short)>0.5 THEN'buy'
01:31:31  15        WHEN(score_short-score_long)>0.5 THEN'sell'ELSE NULL END b_or_s
01:31:31  16  FROM w10 p, w12 s
01:31:31  17  WHERE p.prdate = s.prdate
01:31:31  18  ORDER BY p.prdate
01:31:31  19  /

View created.

Elapsed: 00:00:00.05
01:31:31 SQL> 
01:31:31 SQL> COLUMN action FORMAT A6
01:31:31 SQL> COLUMN price_open  FORMAT 999.9999
01:31:31 SQL> COLUMN price_close FORMAT 999.9999
01:31:31 SQL> COLUMN six_hr_gain FORMAT  99.9999
01:31:31 SQL> COLUMN score_long  FORMAT   9.99
01:31:31 SQL> COLUMN score_short FORMAT   9.99
01:31:31 SQL> COLUMN hold_duration FORMAT  99.99
01:31:31 SQL> COLUMN pct_gain FORMAT      999.9999
01:31:31 SQL> COLUMN sum_pct_gain FORMAT 9999.9999
01:31:31 SQL> COLUMN avg_pct_gain FORMAT  999.9999
01:31:31 SQL> 
01:31:31 SQL> SELECT
01:31:31   2  b_or_s             action
01:31:31   3  ,pair
01:31:31   4  ,ydate    date_open
01:31:31   5  ,price_open
01:31:31   6  ,ROUND(score_long,2) score_b
01:31:31   7  ,ROUND(score_short,2)score_s
01:31:31   8  ,TO_CHAR(ydate6,'MM-DD HH24:MI') date_close
01:31:31   9  ,ROUND(pct_gain,2) pct_gain
01:31:31  10  ,price_close
01:31:31  11  ,six_hr_gain
01:31:31  12  ,CASE WHEN(b_or_s='buy'AND pct_gain>0.0)THEN 'good'
01:31:31  13        WHEN(b_or_s='sell'AND pct_gain<0.0)THEN 'good'
01:31:31  14        WHEN(b_or_s='buy'AND pct_gain<0.0)THEN 'bad'
01:31:31  15        WHEN(b_or_s='sell'AND pct_gain>0.0)THEN 'bad'
01:31:31  16        ELSE NULL END goodbad
01:31:31  17  FROM w14
01:31:31  18  WHERE ydate BETWEEN'2011-01-21 00:00:00'
01:31:31  19              AND    '2011-01-21 00:15:00'
01:31:31  20  /

ACTION PAIR    DATE_OPEN           PRICE_OPEN    SCORE_B    SCORE_S DATE_CLOSE   PCT_GAIN PRICE_CLOSE SIX_HR_GAIN GOOD
------ ------- ------------------- ---------- ---------- ---------- ----------- --------- ----------- ----------- ----
buy    aud_jpy 2011-01-21 00:00:00    81.7445        .77        .12 01-21 06:00    -.0500     81.7073      -.0372 bad
buy    aud_jpy 2011-01-21 00:00:00    81.7445        .77        .12 01-21 06:00    -.0500     81.7073      -.0372 bad
buy    aud_jpy 2011-01-21 00:00:00    81.7445        .77        .12 01-21 06:00    -.0500     81.7073      -.0372 bad
buy    aud_jpy 2011-01-21 00:00:00    81.7445        .77        .12 01-21 06:00    -.0500     81.7073      -.0372 bad
       aud_jpy 2011-01-21 00:05:00    81.7376        .61        .58 01-21 06:05     .0000     81.7388       .0012
       aud_jpy 2011-01-21 00:05:00    81.7376        .61        .58 01-21 06:05     .0000     81.7388       .0012
       aud_jpy 2011-01-21 00:05:00    81.7376        .61        .58 01-21 06:05     .0000     81.7388       .0012
       aud_jpy 2011-01-21 00:05:00    81.7376        .61        .58 01-21 06:05     .0000     81.7388       .0012
       aud_jpy 2011-01-21 00:10:00    81.7559        .32        .56 01-21 06:10    -.0100     81.7495      -.0064
       aud_jpy 2011-01-21 00:10:00    81.7559        .32        .56 01-21 06:10    -.0100     81.7495      -.0064
       aud_jpy 2011-01-21 00:10:00    81.7559        .32        .56 01-21 06:10    -.0100     81.7495      -.0064
       aud_jpy 2011-01-21 00:10:00    81.7559        .32        .56 01-21 06:10    -.0100     81.7495      -.0064
sell   aud_usd 2011-01-21 00:00:00      .9852        .15        .85 01-21 06:00     .0200       .9854       .0002 bad
sell   aud_usd 2011-01-21 00:00:00      .9852        .15        .85 01-21 06:00     .0200       .9854       .0002 bad
sell   aud_usd 2011-01-21 00:00:00      .9852        .15        .85 01-21 06:00     .0200       .9854       .0002 bad
sell   aud_usd 2011-01-21 00:00:00      .9852        .15        .85 01-21 06:00     .0200       .9854       .0002 bad
       aud_usd 2011-01-21 00:05:00      .9849        .35         .7 01-21 06:05     .0900       .9857       .0009
       aud_usd 2011-01-21 00:05:00      .9849        .35         .7 01-21 06:05     .0900       .9857       .0009
       aud_usd 2011-01-21 00:05:00      .9849        .35         .7 01-21 06:05     .0900       .9857       .0009
       aud_usd 2011-01-21 00:05:00      .9849        .35         .7 01-21 06:05     .0900       .9857       .0009
sell   aud_usd 2011-01-21 00:10:00      .9851        .07        .73 01-21 06:10     .0700       .9858       .0007 bad
sell   aud_usd 2011-01-21 00:10:00      .9851        .07        .73 01-21 06:10     .0700       .9858       .0007 bad
sell   aud_usd 2011-01-21 00:10:00      .9851        .07        .73 01-21 06:10     .0700       .9858       .0007 bad
sell   aud_usd 2011-01-21 00:10:00      .9851        .07        .73 01-21 06:10     .0700       .9858       .0007 bad
sell   aud_usd 2011-01-21 00:15:00      .9853        .08        .86 01-21 06:15     .0300       .9856       .0003 bad
sell   aud_usd 2011-01-21 00:15:00      .9853        .08        .86 01-21 06:15     .0300       .9856       .0003 bad
sell   aud_usd 2011-01-21 00:15:00      .9853        .08        .86 01-21 06:15     .0300       .9856       .0003 bad
sell   aud_usd 2011-01-21 00:15:00      .9853        .08        .86 01-21 06:15     .0300       .9856       .0003 bad
buy    eur_aud 2011-01-21 00:00:00     1.3660        .59        .05 01-21 06:00     .1300      1.3678       .0018 good
buy    eur_aud 2011-01-21 00:00:00     1.3660        .59        .05 01-21 06:00     .1300      1.3678       .0018 good
buy    eur_aud 2011-01-21 00:00:00     1.3660        .59        .05 01-21 06:00     .1300      1.3678       .0018 good
buy    eur_aud 2011-01-21 00:00:00     1.3660        .59        .05 01-21 06:00     .1300      1.3678       .0018 good
       eur_aud 2011-01-21 00:05:00     1.3657        .22        .16 01-21 06:05     .1500      1.3678       .0020
       eur_aud 2011-01-21 00:05:00     1.3657        .22        .16 01-21 06:05     .1500      1.3678       .0020
       eur_aud 2011-01-21 00:05:00     1.3657        .22        .16 01-21 06:05     .1500      1.3678       .0020
       eur_aud 2011-01-21 00:05:00     1.3657        .22        .16 01-21 06:05     .1500      1.3678       .0020
       eur_aud 2011-01-21 00:10:00     1.3657        .55        .23 01-21 06:10     .1700      1.3680       .0023
       eur_aud 2011-01-21 00:10:00     1.3657        .55        .23 01-21 06:10     .1700      1.3680       .0023
       eur_aud 2011-01-21 00:10:00     1.3657        .55        .23 01-21 06:10     .1700      1.3680       .0023
       eur_aud 2011-01-21 00:10:00     1.3657        .55        .23 01-21 06:10     .1700      1.3680       .0023
buy    eur_chf 2011-01-21 00:00:00     1.3019        .82        .25 01-21 06:00     .2000      1.3045       .0026 good
buy    eur_chf 2011-01-21 00:00:00     1.3019        .82        .25 01-21 06:00     .2000      1.3045       .0026 good
buy    eur_chf 2011-01-21 00:00:00     1.3019        .82        .25 01-21 06:00     .2000      1.3045       .0026 good
buy    eur_chf 2011-01-21 00:00:00     1.3019        .82        .25 01-21 06:00     .2000      1.3045       .0026 good
       eur_chf 2011-01-21 00:05:00     1.3022        .39        .48 01-21 06:05     .1500      1.3041       .0019
       eur_chf 2011-01-21 00:05:00     1.3022        .39        .48 01-21 06:05     .1500      1.3041       .0019
       eur_chf 2011-01-21 00:05:00     1.3022        .39        .48 01-21 06:05     .1500      1.3041       .0019
       eur_chf 2011-01-21 00:05:00     1.3022        .39        .48 01-21 06:05     .1500      1.3041       .0019
       eur_chf 2011-01-21 00:10:00     1.3019         .6        .14 01-21 06:10     .1900      1.3044       .0025
       eur_chf 2011-01-21 00:10:00     1.3019         .6        .14 01-21 06:10     .1900      1.3044       .0025
       eur_chf 2011-01-21 00:10:00     1.3019         .6        .14 01-21 06:10     .1900      1.3044       .0025
       eur_chf 2011-01-21 00:10:00     1.3019         .6        .14 01-21 06:10     .1900      1.3044       .0025
buy    eur_chf 2011-01-21 00:15:00     1.3021        .82        .25 01-21 06:15     .1900      1.3046       .0025 good
buy    eur_chf 2011-01-21 00:15:00     1.3021        .82        .25 01-21 06:15     .1900      1.3046       .0025 good
buy    eur_chf 2011-01-21 00:15:00     1.3021        .82        .25 01-21 06:15     .1900      1.3046       .0025 good
buy    eur_chf 2011-01-21 00:15:00     1.3021        .82        .25 01-21 06:15     .1900      1.3046       .0025 good
       eur_gbp 2011-01-21 00:00:00      .8463        .49        .43 01-21 06:00     .0900       .8470       .0008
       eur_gbp 2011-01-21 00:00:00      .8463        .49        .43 01-21 06:00     .0900       .8470       .0008
       eur_gbp 2011-01-21 00:00:00      .8463        .49        .43 01-21 06:00     .0900       .8470       .0008
       eur_gbp 2011-01-21 00:00:00      .8463        .49        .43 01-21 06:00     .0900       .8470       .0008
buy    eur_gbp 2011-01-21 00:05:00      .8461        .85        .34 01-21 06:05     .1300       .8472       .0011 good
buy    eur_gbp 2011-01-21 00:05:00      .8461        .85        .34 01-21 06:05     .1300       .8472       .0011 good
buy    eur_gbp 2011-01-21 00:05:00      .8461        .85        .34 01-21 06:05     .1300       .8472       .0011 good
buy    eur_gbp 2011-01-21 00:05:00      .8461        .85        .34 01-21 06:05     .1300       .8472       .0011 good
       eur_gbp 2011-01-21 00:10:00      .8462         .6        .68 01-21 06:10     .1400       .8474       .0012
       eur_gbp 2011-01-21 00:10:00      .8462         .6        .68 01-21 06:10     .1400       .8474       .0012
       eur_gbp 2011-01-21 00:10:00      .8462         .6        .68 01-21 06:10     .1400       .8474       .0012
       eur_gbp 2011-01-21 00:10:00      .8462         .6        .68 01-21 06:10     .1400       .8474       .0012
       eur_jpy 2011-01-21 00:00:00   111.6644        .23        .59 01-21 06:00     .0900    111.7596       .0952
       eur_jpy 2011-01-21 00:00:00   111.6644        .23        .59 01-21 06:00     .0900    111.7596       .0952
       eur_jpy 2011-01-21 00:00:00   111.6644        .23        .59 01-21 06:00     .0900    111.7596       .0952
       eur_jpy 2011-01-21 00:00:00   111.6644        .23        .59 01-21 06:00     .0900    111.7596       .0952
       eur_jpy 2011-01-21 00:05:00   111.6324        .26        .05 01-21 06:05     .1500    111.8003       .1678
       eur_jpy 2011-01-21 00:05:00   111.6324        .26        .05 01-21 06:05     .1500    111.8003       .1678
       eur_jpy 2011-01-21 00:05:00   111.6324        .26        .05 01-21 06:05     .1500    111.8003       .1678
       eur_jpy 2011-01-21 00:05:00   111.6324        .26        .05 01-21 06:05     .1500    111.8003       .1678
       eur_jpy 2011-01-21 00:10:00   111.6508        .52         .2 01-21 06:10     .1600    111.8307       .1799
       eur_jpy 2011-01-21 00:10:00   111.6508        .52         .2 01-21 06:10     .1600    111.8307       .1799
       eur_jpy 2011-01-21 00:10:00   111.6508        .52         .2 01-21 06:10     .1600    111.8307       .1799
       eur_jpy 2011-01-21 00:10:00   111.6508        .52         .2 01-21 06:10     .1600    111.8307       .1799
       eur_usd 2011-01-21 00:00:00     1.3458         .6        .83 01-21 06:00     .1500      1.3478       .0020
       eur_usd 2011-01-21 00:00:00     1.3458         .6        .83 01-21 06:00     .1500      1.3478       .0020
       eur_usd 2011-01-21 00:00:00     1.3458         .6        .83 01-21 06:00     .1500      1.3478       .0020
       eur_usd 2011-01-21 00:00:00     1.3458         .6        .83 01-21 06:00     .1500      1.3478       .0020
       eur_usd 2011-01-21 00:05:00     1.3451        .41        .22 01-21 06:05     .2400      1.3483       .0032
       eur_usd 2011-01-21 00:05:00     1.3451        .41        .22 01-21 06:05     .2400      1.3483       .0032
       eur_usd 2011-01-21 00:05:00     1.3451        .41        .22 01-21 06:05     .2400      1.3483       .0032
       eur_usd 2011-01-21 00:05:00     1.3451        .41        .22 01-21 06:05     .2400      1.3483       .0032
       eur_usd 2011-01-21 00:10:00     1.3453        .25        .65 01-21 06:10     .2400      1.3485       .0032
       eur_usd 2011-01-21 00:10:00     1.3453        .25        .65 01-21 06:10     .2400      1.3485       .0032
       eur_usd 2011-01-21 00:10:00     1.3453        .25        .65 01-21 06:10     .2400      1.3485       .0032
       eur_usd 2011-01-21 00:10:00     1.3453        .25        .65 01-21 06:10     .2400      1.3485       .0032
       eur_usd 2011-01-21 00:15:00     1.3454        .26        .29 01-21 06:15     .2500      1.3487       .0033
       eur_usd 2011-01-21 00:15:00     1.3454        .26        .29 01-21 06:15     .2500      1.3487       .0033
       eur_usd 2011-01-21 00:15:00     1.3454        .26        .29 01-21 06:15     .2500      1.3487       .0033
       eur_usd 2011-01-21 00:15:00     1.3454        .26        .29 01-21 06:15     .2500      1.3487       .0033
       gbp_usd 2011-01-21 00:00:00     1.5903         .7         .4 01-21 06:00     .0600      1.5912       .0009
       gbp_usd 2011-01-21 00:00:00     1.5903         .7         .4 01-21 06:00     .0600      1.5912       .0009
       gbp_usd 2011-01-21 00:00:00     1.5903         .7         .4 01-21 06:00     .0600      1.5912       .0009
       gbp_usd 2011-01-21 00:00:00     1.5903         .7         .4 01-21 06:00     .0600      1.5912       .0009
       gbp_usd 2011-01-21 00:05:00     1.5897        .74        .36 01-21 06:05     .1100      1.5914       .0017
       gbp_usd 2011-01-21 00:05:00     1.5897        .74        .36 01-21 06:05     .1100      1.5914       .0017
       gbp_usd 2011-01-21 00:05:00     1.5897        .74        .36 01-21 06:05     .1100      1.5914       .0017
       gbp_usd 2011-01-21 00:05:00     1.5897        .74        .36 01-21 06:05     .1100      1.5914       .0017
       gbp_usd 2011-01-21 00:10:00     1.5898        .66        .32 01-21 06:10     .0900      1.5913       .0015
       gbp_usd 2011-01-21 00:10:00     1.5898        .66        .32 01-21 06:10     .0900      1.5913       .0015
       gbp_usd 2011-01-21 00:10:00     1.5898        .66        .32 01-21 06:10     .0900      1.5913       .0015
       gbp_usd 2011-01-21 00:10:00     1.5898        .66        .32 01-21 06:10     .0900      1.5913       .0015
       gbp_usd 2011-01-21 00:15:00     1.5899        .55        .54 01-21 06:15     .0800      1.5911       .0012
       gbp_usd 2011-01-21 00:15:00     1.5899        .55        .54 01-21 06:15     .0800      1.5911       .0012
       gbp_usd 2011-01-21 00:15:00     1.5899        .55        .54 01-21 06:15     .0800      1.5911       .0012
       gbp_usd 2011-01-21 00:15:00     1.5899        .55        .54 01-21 06:15     .0800      1.5911       .0012
       usd_cad 2011-01-21 00:00:00      .9968        .41         .2 01-21 06:00     .1200       .9979       .0012
       usd_cad 2011-01-21 00:00:00      .9968        .41         .2 01-21 06:00     .1200       .9979       .0012
       usd_cad 2011-01-21 00:00:00      .9968        .41         .2 01-21 06:00     .1200       .9979       .0012
       usd_cad 2011-01-21 00:00:00      .9968        .41         .2 01-21 06:00     .1200       .9979       .0012
buy    usd_cad 2011-01-21 00:05:00      .9972        .83        .15 01-21 06:05     .0500       .9977       .0005 good
buy    usd_cad 2011-01-21 00:05:00      .9972        .83        .15 01-21 06:05     .0500       .9977       .0005 good
buy    usd_cad 2011-01-21 00:05:00      .9972        .83        .15 01-21 06:05     .0500       .9977       .0005 good
buy    usd_cad 2011-01-21 00:05:00      .9972        .83        .15 01-21 06:05     .0500       .9977       .0005 good

ACTION PAIR    DATE_OPEN           PRICE_OPEN    SCORE_B    SCORE_S DATE_CLOSE   PCT_GAIN PRICE_CLOSE SIX_HR_GAIN GOOD
------ ------- ------------------- ---------- ---------- ---------- ----------- --------- ----------- ----------- ----
       usd_cad 2011-01-21 00:10:00      .9970        .54        .27 01-21 06:10     .0700       .9977       .0007
       usd_cad 2011-01-21 00:10:00      .9970        .54        .27 01-21 06:10     .0700       .9977       .0007
       usd_cad 2011-01-21 00:10:00      .9970        .54        .27 01-21 06:10     .0700       .9977       .0007
       usd_cad 2011-01-21 00:10:00      .9970        .54        .27 01-21 06:10     .0700       .9977       .0007
       usd_cad 2011-01-21 00:15:00      .9970        .55        .23 01-21 06:15     .0500       .9975       .0005
       usd_cad 2011-01-21 00:15:00      .9970        .55        .23 01-21 06:15     .0500       .9975       .0005
       usd_cad 2011-01-21 00:15:00      .9970        .55        .23 01-21 06:15     .0500       .9975       .0005
       usd_cad 2011-01-21 00:15:00      .9970        .55        .23 01-21 06:15     .0500       .9975       .0005
       usd_chf 2011-01-21 00:00:00      .9674         .3        .43 01-21 06:00     .0500       .9679       .0005
       usd_chf 2011-01-21 00:00:00      .9674         .3        .43 01-21 06:00     .0500       .9679       .0005
       usd_chf 2011-01-21 00:00:00      .9674         .3        .43 01-21 06:00     .0500       .9679       .0005
       usd_chf 2011-01-21 00:00:00      .9674         .3        .43 01-21 06:00     .0500       .9679       .0005
       usd_chf 2011-01-21 00:05:00      .9682         .3        .26 01-21 06:05    -.0900       .9673      -.0009
       usd_chf 2011-01-21 00:05:00      .9682         .3        .26 01-21 06:05    -.0900       .9673      -.0009
       usd_chf 2011-01-21 00:05:00      .9682         .3        .26 01-21 06:05    -.0900       .9673      -.0009
       usd_chf 2011-01-21 00:05:00      .9682         .3        .26 01-21 06:05    -.0900       .9673      -.0009
sell   usd_chf 2011-01-21 00:10:00      .9677        .29         .8 01-21 06:10    -.0500       .9673      -.0005 good
sell   usd_chf 2011-01-21 00:10:00      .9677        .29         .8 01-21 06:10    -.0500       .9673      -.0005 good
sell   usd_chf 2011-01-21 00:10:00      .9677        .29         .8 01-21 06:10    -.0500       .9673      -.0005 good
sell   usd_chf 2011-01-21 00:10:00      .9677        .29         .8 01-21 06:10    -.0500       .9673      -.0005 good
       usd_chf 2011-01-21 00:15:00      .9679        .25        .69 01-21 06:15    -.0500       .9674      -.0005
       usd_chf 2011-01-21 00:15:00      .9679        .25        .69 01-21 06:15    -.0500       .9674      -.0005
       usd_chf 2011-01-21 00:15:00      .9679        .25        .69 01-21 06:15    -.0500       .9674      -.0005
       usd_chf 2011-01-21 00:15:00      .9679        .25        .69 01-21 06:15    -.0500       .9674      -.0005
       usd_jpy 2011-01-21 00:00:00    82.9725        .86        .44 01-21 06:00    -.0600     82.9200      -.0525
       usd_jpy 2011-01-21 00:00:00    82.9725        .86        .44 01-21 06:00    -.0600     82.9200      -.0525
       usd_jpy 2011-01-21 00:00:00    82.9725        .86        .44 01-21 06:00    -.0600     82.9200      -.0525
       usd_jpy 2011-01-21 00:00:00    82.9725        .86        .44 01-21 06:00    -.0600     82.9200      -.0525
buy    usd_jpy 2011-01-21 00:05:00    82.9950         .8        .07 01-21 06:05    -.0900     82.9225      -.0725 bad
buy    usd_jpy 2011-01-21 00:05:00    82.9950         .8        .07 01-21 06:05    -.0900     82.9225      -.0725 bad
buy    usd_jpy 2011-01-21 00:05:00    82.9950         .8        .07 01-21 06:05    -.0900     82.9225      -.0725 bad
buy    usd_jpy 2011-01-21 00:05:00    82.9950         .8        .07 01-21 06:05    -.0900     82.9225      -.0725 bad
buy    usd_jpy 2011-01-21 00:10:00    82.9925        .95        .11 01-21 06:10    -.0700     82.9313      -.0613 bad
buy    usd_jpy 2011-01-21 00:10:00    82.9925        .95        .11 01-21 06:10    -.0700     82.9313      -.0613 bad
buy    usd_jpy 2011-01-21 00:10:00    82.9925        .95        .11 01-21 06:10    -.0700     82.9313      -.0613 bad
buy    usd_jpy 2011-01-21 00:10:00    82.9925        .95        .11 01-21 06:10    -.0700     82.9313      -.0613 bad
buy    usd_jpy 2011-01-21 00:15:00    83.0250        .94        .22 01-21 06:15    -.1200     82.9250      -.1000 bad
buy    usd_jpy 2011-01-21 00:15:00    83.0250        .94        .22 01-21 06:15    -.1200     82.9250      -.1000 bad
buy    usd_jpy 2011-01-21 00:15:00    83.0250        .94        .22 01-21 06:15    -.1200     82.9250      -.1000 bad
buy    usd_jpy 2011-01-21 00:15:00    83.0250        .94        .22 01-21 06:15    -.1200     82.9250      -.1000 bad

160 rows selected.

Elapsed: 00:00:00.93
01:31:32 SQL> 
01:31:32 SQL> SELECT
01:31:32   2  pair
01:31:32   3  ,ydate
01:31:32   4  ,ydate6
01:31:32   5  ,price_open
01:31:32   6  ,price_close
01:31:32   7  ,six_hr_gain
01:31:32   8  ,score_long
01:31:32   9  ,score_short
01:31:32  10  FROM w14
01:31:32  11  WHERE ydate > sysdate - 7/24
01:31:32  12  AND ydate6 IS NOT NULL
01:31:32  13  
01:31:32 SQL> SELECT
01:31:32   2  pair
01:31:32   3  ,ydate
01:31:32   4  ,hold_duration
01:31:32   5  ,pct_gain
01:31:32   6  ,buy
01:31:32   7  ,sell
01:31:32   8  FROM w14
01:31:32   9  WHERE ydate > sysdate - 7/24
01:31:32  10  AND ydate6 IS NOT NULL
01:31:32  11  
01:31:32 SQL> CREATE OR REPLACE VIEW w16 AS
01:31:32   2  SELECT
01:31:32   3  pair
01:31:32   4  ,ydate
01:31:32   5  ,b_or_s
01:31:32   6  ,pct_gain
01:31:32   7  ,score_long
01:31:32   8  ,score_short
01:31:32   9  FROM w14
01:31:32  10  WHERE(b_or_s='buy'OR b_or_s='sell')
01:31:32  11  AND ABS(pct_gain)>0
01:31:32  12  /

View created.

Elapsed: 00:00:00.04
01:31:32 SQL> 
01:31:32 SQL> -- Look at weekly distributions of gains:
01:31:32 SQL> 
01:31:32 SQL> SELECT
01:31:32   2  b_or_s
01:31:32   3  ,pair
01:31:32   4  ,TO_CHAR(ydate,'YYYY_MM')mnth
01:31:32   5  ,TO_CHAR(ydate,'W')wweek
01:31:32   6  ,AVG(pct_gain)     avg_pct_gain
01:31:32   7  ,SUM(pct_gain)     sum_pct_gain
01:31:32   8  ,COUNT(pct_gain) ccount
01:31:32   9  ,CORR((score_long-score_short),pct_gain)corr_long
01:31:32  10  ,CORR((score_short-score_long),pct_gain)corr_short
01:31:32  11  FROM w16
01:31:32  12  GROUP BY b_or_s,pair,TO_CHAR(ydate,'YYYY_MM'),TO_CHAR(ydate,'W')
01:31:32  13  HAVING COUNT(pct_gain) > 22
01:31:32  14  ORDER BY b_or_s,pair,TO_CHAR(ydate,'YYYY_MM'),TO_CHAR(ydate,'W')
01:31:32  15  /

B_OR PAIR    MNTH    W AVG_PCT_GAIN SUM_PCT_GAIN     CCOUNT  CORR_LONG CORR_SHORT
---- ------- ------- - ------------ ------------ ---------- ---------- ----------
buy  aud_jpy 2011_01 2       -.0582     -36.7758        632 -.05081414 .050814144
buy  aud_jpy 2011_01 3       -.0677     -44.4306        656 -.15924762  .15924762
buy  aud_usd 2010_11 5        .3112     107.0540        344 .028813905 -.02881391
buy  aud_usd 2010_12 5        .1315      66.7876        508 -.16434086 .164340855
buy  aud_usd 2011_01 1        .0253      11.6319        460  .00164048 -.00164048
buy  aud_usd 2011_01 2       -.0458     -27.3084        596  .08193447 -.08193447
buy  aud_usd 2011_01 3       -.1014     -40.1646        396 -.18510626  .18510626
buy  eur_aud 2011_01 3        .1197      27.2979        228 -.17868975 .178689745
buy  eur_chf 2011_01 2        .1980     100.5863        508 -.26096094 .260960938
buy  eur_chf 2011_01 3       -.0342     -20.5295        600 -.13254828 .132548282
buy  eur_gbp 2011_01 2        .0882      30.3372        344 -.12159277 .121592766
buy  eur_gbp 2011_01 3        .0628      40.2131        640 -.02813254 .028132544
buy  eur_jpy 2011_01 2        .2539     113.7358        448 .010767248 -.01076725
buy  eur_jpy 2011_01 3        .3557     133.7277        376 .234802067 -.23480207
buy  eur_usd 2010_12 5        .2665     196.1466        736 .290214805 -.29021481
buy  eur_usd 2011_01 1       -.0823     -22.0593        268 -.04768627 .047686265
buy  eur_usd 2011_01 2        .1700      94.4935        556 -.12279916 .122799163
buy  eur_usd 2011_01 3        .0482      32.2027        668 .047328885 -.04732888
buy  gbp_usd 2010_12 5        .1023      38.8786        380 .121379418 -.12137942
buy  gbp_usd 2011_01 2        .0263      12.7251        484 -.16177257 .161772573
buy  gbp_usd 2011_01 3        .1096      41.6539        380 .010336677 -.01033668
buy  usd_cad 2010_11 5        .4389      12.2887         28 -.59822316 .598223164
buy  usd_cad 2010_12 5        .0686      18.6689        272 .338469227 -.33846923
buy  usd_cad 2011_01 2       -.0110      -3.1197        284 .268625381 -.26862538
buy  usd_cad 2011_01 3        .0837      28.7982        344 .029449688 -.02944969
buy  usd_chf 2010_10 3        .3362      21.5147         64 .242644547 -.24264455
buy  usd_chf 2010_10 4        .3176      16.5127         52 .704284832 -.70428483
buy  usd_chf 2010_11 2        .1534      10.4322         68 -.00494752 .004947523
buy  usd_chf 2010_11 3        .3405      12.2577         36 -.42841744 .428417436
buy  usd_chf 2010_11 4        .3200       7.6810         24 .683841409 -.68384141
buy  usd_chf 2010_12 3        .1391       5.0093         36 .345145503  -.3451455
buy  usd_chf 2010_12 5       -.2119     -20.3422         96 .115876732 -.11587673
buy  usd_chf 2011_01 2        .0051       2.1057        416 -.25766838 .257668384
buy  usd_chf 2011_01 3       -.1579     -54.9382        348 -.20378792 .203787922
buy  usd_jpy 2010_12 5       -.0952      -6.4727         68 .205523116 -.20552312
buy  usd_jpy 2011_01 2       -.2518     -74.5363        296 .076848526 -.07684853
buy  usd_jpy 2011_01 3       -.0689     -45.4543        660 -.15130525 .151305248
sell aud_jpy 2011_01 2       -.2322    -145.8022        628 .164401921 -.16440192
sell aud_jpy 2011_01 3       -.0605     -31.2270        516 -.04980909 .049809092
sell aud_usd 2010_11 5       -.2960    -253.3795        856 -.02088561 .020885614
sell aud_usd 2010_12 5       -.1972     -22.0893        112 .016245413 -.01624541
sell aud_usd 2011_01 1       -.2236    -281.7176       1260 .168124566 -.16812457
sell aud_usd 2011_01 2       -.2025    -123.9167        612 -.02758632 .027586318
sell aud_usd 2011_01 3       -.0695     -41.1471        592 -.04416974 .044169737
sell eur_aud 2011_01 3        .2213      58.4228        264 -.11042358 .110423583
sell eur_chf 2011_01 2        .1571      57.8211        368 .188605863 -.18860586
sell eur_chf 2011_01 3        .1677      41.5894        248 -.03413161  .03413161
sell eur_gbp 2011_01 2        .1766      43.7945        248 -.08466504 .084665038
sell eur_gbp 2011_01 3        .1158      21.3115        184 .075993022 -.07599302
sell eur_jpy 2011_01 2        .0836      33.7591        404 -.17681957 .176819572
sell eur_jpy 2011_01 3        .0015        .7317        488 -.11488153 .114881526
sell eur_usd 2010_11 5       -.4625    -297.8752        644 .380631441 -.38063144
sell eur_usd 2010_12 5        .0201       6.5059        324 .126827362 -.12682736
sell eur_usd 2011_01 1       -.2895    -151.6920        524 .394181857 -.39418186
sell eur_usd 2011_01 2        .1462      43.2681        296 -.04299714 .042997138
sell eur_usd 2011_01 3        .0441      20.0993        456 .100043545 -.10004355
sell gbp_usd 2010_11 5        .0027       1.2975        488 .120542356 -.12054236
sell gbp_usd 2010_12 5        .1156       9.2478         80 .532419416 -.53241942
sell gbp_usd 2011_01 2        .1747     112.5067        644 -.20709515 .207095151
sell gbp_usd 2011_01 3        .0609      24.1078        396 .088905506 -.08890551
sell usd_cad 2010_12 5       -.1128     -37.0119        328 .165063278 -.16506328
sell usd_cad 2011_01 2        .0087       5.6162        644 -.05117176 .051171763
sell usd_cad 2011_01 3       -.0387     -21.5402        556 .087535946 -.08753595
sell usd_chf 2010_12 1       -.1466      -5.8650         40 .519193371 -.51919337
sell usd_chf 2010_12 2       -.2091     -15.8949         76  -.2873444 .287344404
sell usd_chf 2010_12 3       -.2902     -12.7709         44 .487150463 -.48715046
sell usd_chf 2010_12 4       -.2425     -15.5180         64 .246914731 -.24691473
sell usd_chf 2010_12 5       -.1270     -60.4518        476 -.11944569 .119445692
sell usd_chf 2011_01 1        .1841       5.8909         32 .363880401  -.3638804
sell usd_chf 2011_01 2       -.0289     -17.4803        604 -.12066216 .120662163
sell usd_chf 2011_01 3        .1067      81.9079        768 -.02972554 .029725539
sell usd_jpy 2010_12 5       -.1753    -137.4597        784 -.12179081 .121790812
sell usd_jpy 2011_01 2       -.0110     -11.7430       1064 .001540353 -.00154035
sell usd_jpy 2011_01 3       -.0857    -104.9271       1224 -.09943718 .099437184

74 rows selected.

Elapsed: 00:00:01.36
01:31:33 SQL> 
01:31:33 SQL> -- Look at pair distributions of gains:
01:31:33 SQL> 
01:31:33 SQL> SELECT
01:31:33   2  pair
01:31:33   3  ,b_or_s
01:31:33   4  ,TO_CHAR(ydate,'YYYY_MM')mnth
01:31:33   5  ,AVG(pct_gain)     avg_pct_gain
01:31:33   6  ,SUM(pct_gain)     sum_pct_gain
01:31:33   7  ,COUNT(pct_gain) ccount
01:31:33   8  ,CORR((score_long-score_short),pct_gain)corr_long
01:31:33   9  ,CORR((score_short-score_long),pct_gain)corr_short
01:31:33  10  FROM w16
01:31:33  11  GROUP BY pair,b_or_s,TO_CHAR(ydate,'YYYY_MM')
01:31:33  12  HAVING COUNT(pct_gain) > 22
01:31:33  13  ORDER BY pair,b_or_s,TO_CHAR(ydate,'YYYY_MM')
01:31:33  14  /

PAIR    B_OR MNTH    AVG_PCT_GAIN SUM_PCT_GAIN     CCOUNT  CORR_LONG CORR_SHORT
------- ---- ------- ------------ ------------ ---------- ---------- ----------
aud_jpy buy  2011_01       -.0630     -81.2064       1288 -.10518511 .105185112
aud_jpy sell 2011_01       -.1547    -177.0292       1144 .014338995   -.014339
aud_usd buy  2010_11        .3120     112.3099        360 .039459122 -.03945912
aud_usd buy  2010_12        .1273      67.2153        528 -.14479875 .144798755
aud_usd buy  2011_01       -.0385     -55.8411       1452 .006367166 -.00636717
aud_usd sell 2010_11       -.2924    -254.9977        872 -.02156796 .021567963
aud_usd sell 2010_12       -.1700     -21.0834        124 .028463383 -.02846338
aud_usd sell 2011_01       -.1813    -446.7814       2464  .05981366 -.05981366
eur_aud buy  2011_01        .1197      27.2979        228 -.17868975 .178689745
eur_aud sell 2011_01        .2213      58.4228        264 -.11042358 .110423583
eur_chf buy  2011_01        .0723      80.0569       1108 -.17198825 .171988245
eur_chf sell 2011_01        .1614      99.4105        616 .082305116 -.08230512
eur_gbp buy  2011_01        .0717      70.5504        984 -.05793414 .057934135
eur_gbp sell 2011_01        .1507      65.1061        432 -.04029391 .040293906
eur_jpy buy  2011_01        .3003     247.4635        824 .132012168 -.13201217
eur_jpy sell 2011_01        .0387      34.4909        892 -.15778968 .157789679
eur_usd buy  2010_12        .2665     196.1466        736 .290214805 -.29021481
eur_usd buy  2011_01        .0701     104.6368       1492 -.03300563 .033005634
eur_usd sell 2010_11       -.4625    -297.8752        644 .380631441 -.38063144
eur_usd sell 2010_12        .0201       6.5059        324 .126827362 -.12682736
eur_usd sell 2011_01       -.0692     -88.3246       1276 .163756783 -.16375678
gbp_usd buy  2010_12        .1023      38.8786        380 .121379418 -.12137942
gbp_usd buy  2011_01        .0629      54.3790        864 -.09232835 .092328351
gbp_usd sell 2010_11        .0027       1.2975        488 .120542356 -.12054236
gbp_usd sell 2010_12        .1156       9.2478         80 .532419416 -.53241942
gbp_usd sell 2011_01        .1314     136.6145       1040 -.09283949 .092839485
usd_cad buy  2010_11        .3453      16.5731         48 -.34049097 .340490975
usd_cad buy  2010_12        .0827      24.4741        296 .318614451 -.31861445
usd_cad buy  2011_01        .0417      26.3232        632 .078038221 -.07803822
usd_cad sell 2010_11       -.0129       -.3095         24  .35021394 -.35021394
usd_cad sell 2010_12       -.1056     -38.4403        364 .156161015 -.15616101
usd_cad sell 2011_01       -.0148     -17.9202       1212 .034694997   -.034695
usd_chf buy  2010_10        .3278      38.0274        116 .386096569 -.38609657
usd_chf buy  2010_11        .2095      31.8505        152 .016460739 -.01646074
usd_chf buy  2010_12       -.0505      -8.6912        172 .126853553 -.12685355
usd_chf buy  2011_01       -.0529     -41.2245        780 -.23653095 .236530947
usd_chf sell 2010_10       -.0836      -3.3427         40 -.17806789 .178067891
usd_chf sell 2010_11       -.2077     -11.6329         56 .256569404  -.2565694
usd_chf sell 2010_12       -.1579    -110.5006        700 .026894441 -.02689444
usd_chf sell 2011_01        .0501      70.3184       1404 -.04545271 .045452706
usd_jpy buy  2010_12       -.0952      -6.4727         68 .205523116 -.20552312
usd_jpy buy  2011_01       -.1255    -119.9906        956 .002330373 -.00233037
usd_jpy sell 2010_12       -.1753    -137.4597        784 -.12179081 .121790812
usd_jpy sell 2011_01       -.0510    -116.6701       2288 -.05388467  .05388467

44 rows selected.

Elapsed: 00:00:01.33
01:31:35 SQL> 
01:31:35 SQL> -- Aggregate the pairs of above query:
01:31:35 SQL> 
01:31:35 SQL> SELECT
01:31:35   2  b_or_s
01:31:35   3  ,TO_CHAR(ydate,'YYYY_MM')mnth
01:31:35   4  ,TO_CHAR(ydate,'W')wweek
01:31:35   5  ,AVG(pct_gain)     avg_pct_gain
01:31:35   6  ,SUM(pct_gain)     sum_pct_gain
01:31:35   7  ,COUNT(pct_gain) ccount
01:31:35   8  ,CORR((score_long-score_short),pct_gain)corr_long
01:31:35   9  ,CORR((score_short-score_long),pct_gain)corr_short
01:31:35  10  FROM w16
01:31:35  11  GROUP BY b_or_s,TO_CHAR(ydate,'YYYY_MM'),TO_CHAR(ydate,'W')
01:31:35  12  HAVING COUNT(pct_gain) > 33
01:31:35  13  ORDER BY b_or_s,TO_CHAR(ydate,'YYYY_MM'),TO_CHAR(ydate,'W')
01:31:35  14  /

B_OR MNTH    W AVG_PCT_GAIN SUM_PCT_GAIN     CCOUNT  CORR_LONG CORR_SHORT
---- ------- - ------------ ------------ ---------- ---------- ----------
buy  2010_10 3        .3210      21.8284         68 .262820655 -.26282065
buy  2010_10 4        .3169      17.7483         56 .703552025 -.70355203
buy  2010_11 2        .1479      11.8288         80 .025755458 -.02575546
buy  2010_11 3        .3311      15.8946         48 -.29956214 .299562139
buy  2010_11 4        .3288      11.8356         36  .69729841 -.69729841
buy  2010_11 5        .3097     118.9285        384 .020594511 -.02059451
buy  2010_12 3        .1113       6.6787         60 .372354877 -.37235488
buy  2010_12 4        .0723       2.6030         36 -.18720004 .187200037
buy  2010_12 5        .1437     296.6666       2064 .295772437 -.29577244
buy  2011_01 1        .0024       1.8253        748  -.0582814 .058281404
buy  2011_01 2        .0465     212.2435       4564  -.0641108 .064110799
buy  2011_01 3        .0186      98.3762       5296 -.07110957 .071109565
sell 2010_10 4       -.1800      -7.2003         40 .310427106 -.31042711
sell 2010_11 5       -.2750    -548.9735       1996 .116185093 -.11618509
sell 2010_12 1       -.1190      -6.1863         52 .503424648 -.50342465
sell 2010_12 2       -.1834     -16.1420         88  -.3101058 .310105799
sell 2010_12 3       -.2195     -14.9237         68 .559497708 -.55949771
sell 2010_12 4       -.2042     -16.3383         80 .280394063 -.28039406
sell 2010_12 5       -.1147    -241.2590       2104 .033604129 -.03360413
sell 2011_01 1       -.2350    -429.5150       1828 .219867662 -.21986766
sell 2011_01 2       -.0004      -2.1764       5512 -.01786447 .017864467
sell 2011_01 3        .0087      49.3290       5692  .01165421 -.01165421

22 rows selected.

Elapsed: 00:00:01.35
01:31:36 SQL> 
01:31:36 SQL> -- Aggregate the weeks:
01:31:36 SQL> 
01:31:36 SQL> SELECT
01:31:36   2  b_or_s
01:31:36   3  ,pair
01:31:36   4  ,AVG(pct_gain)     avg_pct_gain
01:31:36   5  ,SUM(pct_gain)     sum_pct_gain
01:31:36   6  ,COUNT(pct_gain) ccount
01:31:36   7  ,CORR((score_long-score_short),pct_gain)corr_long
01:31:36   8  ,CORR((score_short-score_long),pct_gain)corr_short
01:31:36   9  FROM w16
01:31:36  10  GROUP BY b_or_s,pair
01:31:36  11  HAVING COUNT(pct_gain) > 33
01:31:36  12  ORDER BY b_or_s,pair
01:31:36  13  /

B_OR PAIR    AVG_PCT_GAIN SUM_PCT_GAIN     CCOUNT  CORR_LONG CORR_SHORT
---- ------- ------------ ------------ ---------- ---------- ----------
buy  aud_jpy       -.0630     -81.2064       1288 -.10518511 .105185112
buy  aud_usd        .0533     124.9197       2344 .079781726 -.07978173
buy  eur_aud        .1197      27.2979        228 -.17868975 .178689745
buy  eur_chf        .0723      80.0569       1108 -.17198825 .171988245
buy  eur_gbp        .0759      76.8423       1012 -.03158789 .031587889
buy  eur_jpy        .3003     247.4635        824 .132012168 -.13201217
buy  eur_usd        .1350     300.7835       2228 .143051337 -.14305134
buy  gbp_usd        .0743      92.7180       1248 -.02504331 .025043315
buy  usd_cad        .0691      67.6842        980 .114231649 -.11423165
buy  usd_chf        .0164      19.9622       1220 -.08283236 .082832358
buy  usd_jpy       -.1235    -126.4633       1024 .003008886 -.00300889
sell aud_jpy       -.1547    -177.0292       1144 .014338995   -.014339
sell aud_usd       -.2101    -730.4235       3476 .056103075 -.05610307
sell eur_aud        .2213      58.4228        264 -.11042358 .110423583
sell eur_chf        .1614      99.4105        616 .082305116 -.08230512
sell eur_gbp        .1297      61.2286        472 .030311625 -.03031163
sell eur_jpy        .0387      34.4909        892 -.15778968 .157789679
sell eur_usd       -.1692    -379.6939       2244 .231810791 -.23181079
sell gbp_usd        .0915     147.1599       1608 .018458498  -.0184585
sell usd_cad       -.0362     -58.1511       1608 .041367797  -.0413678
sell usd_chf       -.0251     -55.1579       2200 -.06429135 .064291346
sell usd_jpy       -.0827    -254.1299       3072 -.09165058 .091650581

22 rows selected.

Elapsed: 00:00:01.31
01:31:37 SQL> 
01:31:37 SQL> 
01:31:37 SQL> exit
Disconnected from Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - 64bit Production
With the Partitioning, OLAP, Data Mining and Real Application Testing options
oracle@z2:/pt/s/rluck/svm62$ 
